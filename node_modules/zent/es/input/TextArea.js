import { __assign, __rest } from "tslib";
import * as React from 'react';
import cx from 'classnames';
var autosize = require('autosize');
import noop from 'lodash-es/noop';
export var TextArea = React.forwardRef(function (props, ref) {
    var value = props.value, autoSize = props.autoSize, showCount = props.showCount, maxLength = props.maxLength, width = props.width, size = props.size, onPressEnter = props.onPressEnter, autoFocus = props.autoFocus, autoSelect = props.autoSelect, initSelectionStart = props.initSelectionStart, initSelectionEnd = props.initSelectionEnd, inline = props.inline, otherProps = __rest(props, ["value", "autoSize", "showCount", "maxLength", "width", "size", "onPressEnter", "autoFocus", "autoSelect", "initSelectionStart", "initSelectionEnd", "inline"]);
    React.useLayoutEffect(function () {
        if (!autoSize) {
            return noop;
        }
        var el = ref.current;
        if (!el) {
            return noop;
        }
        autosize(el);
        return function () {
            autosize.destroy(el);
        };
    }, [autoSize, ref]);
    return (React.createElement(React.Fragment, null,
        React.createElement("textarea", __assign({}, otherProps, { ref: ref, className: cx('zent-textarea', {
                'zent-textarea-with-count': showCount,
            }), value: value, maxLength: maxLength })),
        showCount && (React.createElement("span", { className: "zent-textarea-count" },
            (value || '').length,
            "/",
            maxLength))));
});
TextArea.displayName = 'TextArea';
